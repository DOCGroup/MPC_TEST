#----------------------------------------------------------------------------
#       Macros
#----------------------------------------------------------------------------

TARGETDIR       = ./
TARGET          = $(TARGETDIR)cras.dll
LDFLAGS         = -lib:.
CFLAGS          =
TESTDIRSTART    = test -d
TESTDIREND      = ||
RM              = rm -rf
MKDIR           = mkdir -p

#----------------------------------------------------------------------------
#       Local targets
#----------------------------------------------------------------------------

all: $(GENERATED_DIRTY) $(TARGET)

$(TARGET): cras.cs
	@$(TESTDIRSTART) "$(TARGETDIR)" $(TESTDIREND) $(MKDIR) "$(TARGETDIR)"
	mcs -target:library -out:$(TARGET) $(CFLAGS) $(LDFLAGS) cras.cs

generated: $(GENERATED_DIRTY)
	@-:

clean:
	-$(RM) $(TARGET)

realclean: clean

#----------------------------------------------------------------------------
#       Dependencies
#----------------------------------------------------------------------------

depend:
	@-:
